## 자바스크립트 5주차과제 

### 목차

- 1. 과제 개요
- 2. 주요 기능
- 3. 겪었던 오류 및 해결 과정
- 4. 회고 

### 과제 개요
검색차엥 입력한 텍스트에 따라 실시간으로 나라이름을 추천해주는 타입어헤드기능을 자바스크립로 구현. 사용자가 검색창에 입력할 때 마다 countriries 재열에서 해당 키워드가 포함된 나라를 필터링하여 자동완성 리스트에 출력되도록 함. 

### 주요 기능
- input에 입력 시 실시간 필터링
- 일치하는 나라 목록을 li로 보여줌
- ul 클릭 시 입력값으로 반영
- 방향키 ↑↓로 항목 포커싱 및 선택 가능
- Enter 키로 포커스된 항목 선택 가능

### 요류 및 개선 / 해결 과정
1. CSS 적용 오류 (Refused to apply style from ... MIME type 'text/html')
   원인: 잘못된 경로로 css파일을 불러올려고 해서, 브라우저가 HTML파일을 받아오고 MLME타입이 맞지 않아 적용이 안됨.
   
   해결: _normalize.css, _theme.css 등 공통 CSS 경로를 올바르게 수정하거나 실제로 존재하는 파일만 @import하게 조정함

2. 방향키 포커스 이동 문제
   원인: 방향키 이벤트를 처리하는 로직에 오타 및 포커스 시각화용 클래스를 제대로 제어하지 않음.
  
   해결:keydow을 keydown으로 오타 수정 및 .highlighted 클래스를 동적으로 추가/제거하여 시각적으로 표시.

3. 코드 구조 개선
  초반에는 로직을 인벤트 안에 바로 작성을 했지만, updateHighlight() 함수, selectItem() 함수를 사용해 가독성과 재사용성을 높임. 

4. 방향키를 사용할 때 자신이 어떤 항목을 탐색할때 해당 항목이 화면에 보이도록 자동으로 이동도히게 함. ↓ 키를 눌러 아래 항목으로 내려가면 해당 항목이 자동으로 스크롤돼서 보이게,↑ 키도 마찬가지로 보이지 않던 위 항목이 보이도록 스크롤할 수 있게 개선홤. 
이는 Element.scrollIntoView() 구현함. 

### 회고
이번 타입어헤드 구현은 자바스크립트를 실제로 사용자가 경험을 개선하는 도구로 어덣게 활용할 수 있는지 체감 할 수 잇는 과제였습니다. 처음에 물론 파일의 경로 문제나 다양한 문제들이 생겼지만, 개발자 도구를 열어 보니 경로 문제, import/export 문법 오류, DOM API 오타 등 실수는 많았지만, 하나씩 문제를 확인 하고 디버깅 하며 문제를 해결했습니다. 

### 야무쌤의 피드백 
코드 구조를 계속 리팩토링 하면서 이벤트 위임이나, 자동 완성 리스트 항목이 많아질 경우 성능 최적화(debounce) 등도 고려해보세요. 
그리고 상태 변수 관리를 객체로 묶어보는 연습도 진행해보세요.

### 과제 리펙토링 내용
1. 상태 관리 객체 통합. 
currentIndex, filteredList, items 등을 state 객체로 묶어 관리.

2. 디바운스 적용
빠르게 타이핑을 할 때 마다 필터링이 실행되는 문제를 해결하기 위해 debounce() 유틸 함수 사용
결과-> 최종입력 후 시간(300ms) 지난 후에 필터링이 되도록 조정함. 

3. 이벤트 위임 구조 사용
자동 완성 항복  li요소마다 직접 이벤트를 다는 대신 ul요소 하나에 이벤트를 등록함. 

4. 콘솔 추척용 로그 추가 
console.log()를 활용하여 필터링 결과, 현재 인덱스, 선택된 항목 등을 실시간 확인.
동작의 흐름을 더 잘 파악이 가능해짐. 

### 배우고 느낀점. 
코드를 만드는 것도 중요하지만, 구조적으로 유지 보수 할 수 잇는 조은 코드를 만드는 것이 더 중요하다고 느끼는 하루였습니다. 상태 객체로 묶는 것은 자주 활용하면 좋을 거 같다는 생각이 들엇습니다. 디바운스와 같은 성능 최적회 기법을 사용해보는 것이 조금 어려웠지만 문서와 AI도구를 활용해 문제를 해결할 수 있었습니다. 그리고 콘소를 자주 확인하는 습관을 들여야 할거 같습니다. 함수 ;(() => {}) IIFE에 ;(세미콜론)을 붙이지 않아 오류가 난걸 모르고 "왜 오류가.. 뜨징?" 하고 있는 절를 보고 콘솛이 친절하게 "어디 위치에 몇번 째 줄에 오류가 있엉~ " 하고 알려준 덕분에 문제를 빠르게 해결 할 수 있었습니다. 